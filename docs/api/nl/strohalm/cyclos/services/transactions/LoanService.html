<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Thu Mar 22 11:38:20 BRT 2012 -->
<TITLE>
LoanService (Cyclos 3 Documentation)
</TITLE>

<META NAME="date" CONTENT="2012-03-22">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LoanService (Cyclos 3 Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanServiceImpl.html" title="class in nl.strohalm.cyclos.services.transactions"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?nl/strohalm/cyclos/services/transactions/LoanService.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LoanService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
nl.strohalm.cyclos.services.transactions</FONT>
<BR>
Interface LoanService</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD><A HREF="../../../../../nl/strohalm/cyclos/services/Service.html" title="interface in nl.strohalm.cyclos.services">Service</A></DD>
</DL>
<DL>
<DT><B>All Known Subinterfaces:</B> <DD><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanServiceLocal.html" title="interface in nl.strohalm.cyclos.services.transactions">LoanServiceLocal</A></DD>
</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanServiceImpl.html" title="class in nl.strohalm.cyclos.services.transactions">LoanServiceImpl</A>, <A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanServiceSecurity.html" title="class in nl.strohalm.cyclos.services.transactions">LoanServiceSecurity</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>LoanService</B><DT>extends <A HREF="../../../../../nl/strohalm/cyclos/services/Service.html" title="interface in nl.strohalm.cyclos.services">Service</A></DL>
</PRE>

<P>
Service interface for loan management
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>luis</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPayment.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPayment</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#calculatePaymentProjection(nl.strohalm.cyclos.services.transactions.ProjectionDTO)">calculatePaymentProjection</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/ProjectionDTO.html" title="class in nl.strohalm.cyclos.services.transactions">ProjectionDTO</A>&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Calculates the payments for the given loan parameters</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPayment.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPayment</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#discard(nl.strohalm.cyclos.services.transactions.LoanPaymentDTO)">discard</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">LoanPaymentDTO</A>&nbsp;dto)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Discard the given loan, or the first open payment if just the loan is given</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanRepaymentAmountsDTO.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanRepaymentAmountsDTO</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#getLoanPaymentAmount(nl.strohalm.cyclos.services.transactions.LoanPaymentDTO)">getLoanPaymentAmount</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">LoanPaymentDTO</A>&nbsp;dto)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a LoanPaymentAmountDTO for the given parameters</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#grant(nl.strohalm.cyclos.services.transactions.GrantLoanDTO)">grant</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/GrantLoanDTO.html" title="class in nl.strohalm.cyclos.services.transactions">GrantLoanDTO</A>&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Grants a loan, returning it</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#load(java.lang.Long, nl.strohalm.cyclos.entities.Relationship...)">load</A></B>(java.lang.Long&nbsp;id,
     <A HREF="../../../../../nl/strohalm/cyclos/entities/Relationship.html" title="interface in nl.strohalm.cyclos.entities">Relationship</A>...&nbsp;fetch)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads a loan with the specified fetch</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/TransactionSummaryVO.html" title="class in nl.strohalm.cyclos.services.transactions">TransactionSummaryVO</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#loanSummary(nl.strohalm.cyclos.entities.members.Member)">loanSummary</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/members/Member.html" title="class in nl.strohalm.cyclos.entities.members">Member</A>&nbsp;member)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the loan summary of the given member</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#markAsInProcess(nl.strohalm.cyclos.entities.accounts.loans.Loan)">markAsInProcess</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A>&nbsp;loan)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marks an expired loan payment (or the first expired payment) as "in-process"</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#markAsRecovered(nl.strohalm.cyclos.entities.accounts.loans.Loan)">markAsRecovered</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A>&nbsp;loan)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marks an in-process loan (or the first in-process payment) as "recovered"</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#markAsUnrecoverable(nl.strohalm.cyclos.entities.accounts.loans.Loan)">markAsUnrecoverable</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A>&nbsp;loan)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marks an in-process loan (or the first in-process payment) as "unrecoverable"</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/TransactionSummaryVO.html" title="class in nl.strohalm.cyclos.services.transactions">TransactionSummaryVO</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#paymentsSummary(nl.strohalm.cyclos.entities.accounts.loans.LoanPaymentQuery)">paymentsSummary</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPaymentQuery.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPaymentQuery</A>&nbsp;query)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a transaction summary of loan payments for the specified query</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#repay(nl.strohalm.cyclos.services.transactions.RepayLoanDTO)">repay</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/RepayLoanDTO.html" title="class in nl.strohalm.cyclos.services.transactions">RepayLoanDTO</A>&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Repay a loan, returning the generated transfer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPayment.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPayment</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#search(nl.strohalm.cyclos.entities.accounts.loans.LoanPaymentQuery)">search</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPaymentQuery.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPaymentQuery</A>&nbsp;vo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Searches for loan payments</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#search(nl.strohalm.cyclos.entities.accounts.loans.LoanQuery)">search</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanQuery.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanQuery</A>&nbsp;query)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Searches loans</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanService.html#validate(nl.strohalm.cyclos.services.transactions.GrantLoanDTO)">validate</A></B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/GrantLoanDTO.html" title="class in nl.strohalm.cyclos.services.transactions">GrantLoanDTO</A>&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validates a loan grant</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="calculatePaymentProjection(nl.strohalm.cyclos.services.transactions.ProjectionDTO)"><!-- --></A><H3>
calculatePaymentProjection</H3>
<PRE>
java.util.List&lt;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPayment.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPayment</A>&gt; <B>calculatePaymentProjection</B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/ProjectionDTO.html" title="class in nl.strohalm.cyclos.services.transactions">ProjectionDTO</A>&nbsp;params)</PRE>
<DL>
<DD>Calculates the payments for the given loan parameters
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getLoanPaymentAmount(nl.strohalm.cyclos.services.transactions.LoanPaymentDTO)"><!-- --></A><H3>
getLoanPaymentAmount</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanRepaymentAmountsDTO.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanRepaymentAmountsDTO</A> <B>getLoanPaymentAmount</B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">LoanPaymentDTO</A>&nbsp;dto)</PRE>
<DL>
<DD>Returns a LoanPaymentAmountDTO for the given parameters
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="discard(nl.strohalm.cyclos.services.transactions.LoanPaymentDTO)"><!-- --></A><H3>
discard</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPayment.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPayment</A> <B>discard</B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions">LoanPaymentDTO</A>&nbsp;dto)
                    throws <A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></PRE>
<DL>
<DD>Discard the given loan, or the first open payment if just the loan is given
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></CODE> - When the given loan has no open payments</DL>
</DD>
</DL>
<HR>

<A NAME="grant(nl.strohalm.cyclos.services.transactions.GrantLoanDTO)"><!-- --></A><H3>
grant</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A> <B>grant</B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/GrantLoanDTO.html" title="class in nl.strohalm.cyclos.services.transactions">GrantLoanDTO</A>&nbsp;params)
           throws <A HREF="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/CreditsException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">CreditsException</A>,
                  <A HREF="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/AuthorizedPaymentInPastException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">AuthorizedPaymentInPastException</A></PRE>
<DL>
<DD>Grants a loan, returning it
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/CreditsException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">CreditsException</A></CODE> - The loan cannot be granted because for either lack of funds or exceeding an upper credit limit
<DD><CODE><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/AuthorizedPaymentInPastException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">AuthorizedPaymentInPastException</A></CODE> - An authorized loan cannot be granted in past</DL>
</DD>
</DL>
<HR>

<A NAME="load(java.lang.Long, nl.strohalm.cyclos.entities.Relationship...)"><!-- --></A><H3>
load</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A> <B>load</B>(java.lang.Long&nbsp;id,
          <A HREF="../../../../../nl/strohalm/cyclos/entities/Relationship.html" title="interface in nl.strohalm.cyclos.entities">Relationship</A>...&nbsp;fetch)</PRE>
<DL>
<DD>Loads a loan with the specified fetch
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="loanSummary(nl.strohalm.cyclos.entities.members.Member)"><!-- --></A><H3>
loanSummary</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/TransactionSummaryVO.html" title="class in nl.strohalm.cyclos.services.transactions">TransactionSummaryVO</A> <B>loanSummary</B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/members/Member.html" title="class in nl.strohalm.cyclos.entities.members">Member</A>&nbsp;member)</PRE>
<DL>
<DD>Return the loan summary of the given member
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="markAsInProcess(nl.strohalm.cyclos.entities.accounts.loans.Loan)"><!-- --></A><H3>
markAsInProcess</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A> <B>markAsInProcess</B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A>&nbsp;loan)
                     throws <A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></PRE>
<DL>
<DD>Marks an expired loan payment (or the first expired payment) as "in-process"
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></CODE> - When the given loan has no expired payments</DL>
</DD>
</DL>
<HR>

<A NAME="markAsRecovered(nl.strohalm.cyclos.entities.accounts.loans.Loan)"><!-- --></A><H3>
markAsRecovered</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A> <B>markAsRecovered</B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A>&nbsp;loan)
                     throws <A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></PRE>
<DL>
<DD>Marks an in-process loan (or the first in-process payment) as "recovered"
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></CODE> - When the given loan has no in-process payments</DL>
</DD>
</DL>
<HR>

<A NAME="markAsUnrecoverable(nl.strohalm.cyclos.entities.accounts.loans.Loan)"><!-- --></A><H3>
markAsUnrecoverable</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A> <B>markAsUnrecoverable</B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A>&nbsp;loan)
                         throws <A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></PRE>
<DL>
<DD>Marks an in-process loan (or the first in-process payment) as "unrecoverable"
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></CODE> - When the given loan has no in-process payments</DL>
</DD>
</DL>
<HR>

<A NAME="paymentsSummary(nl.strohalm.cyclos.entities.accounts.loans.LoanPaymentQuery)"><!-- --></A><H3>
paymentsSummary</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/TransactionSummaryVO.html" title="class in nl.strohalm.cyclos.services.transactions">TransactionSummaryVO</A> <B>paymentsSummary</B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPaymentQuery.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPaymentQuery</A>&nbsp;query)</PRE>
<DL>
<DD>Returns a transaction summary of loan payments for the specified query
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="repay(nl.strohalm.cyclos.services.transactions.RepayLoanDTO)"><!-- --></A><H3>
repay</H3>
<PRE>
<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</A> <B>repay</B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/RepayLoanDTO.html" title="class in nl.strohalm.cyclos.services.transactions">RepayLoanDTO</A>&nbsp;params)
               throws <A HREF="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/UpperCreditLimitReachedException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">UpperCreditLimitReachedException</A>,
                      <A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></PRE>
<DL>
<DD>Repay a loan, returning the generated transfer. The amount may be smaller than the payment amount, and at most, the exact payment amount. If
 the loan has interest, the partial payment may only be between the base amount and the total amount, ie: loan of 1000, with interests, 1050.
 has 5 payments 210, in which, 200 is the base amount and 10, interests. The payment may be between 0.01 and 200, or exactly 210. If there's
 already another repayment of 150, the payment may be between 0.01 and 50, or 60.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The generated transfer. When loan has interest, the order of generated child transfers (if any) must be: grant fee repayment, monthly
 interest repayment, expiration fee repayment, expiration daily interest repayment
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../nl/strohalm/cyclos/services/transactions/exceptions/UpperCreditLimitReachedException.html" title="class in nl.strohalm.cyclos.services.transactions.exceptions">UpperCreditLimitReachedException</A></CODE> - The loan cannot be granted because it would make the system account go beyond the upper credit limit
<DD><CODE><A HREF="../../../../../nl/strohalm/cyclos/entities/exceptions/UnexpectedEntityException.html" title="class in nl.strohalm.cyclos.entities.exceptions">UnexpectedEntityException</A></CODE> - The loan is not open</DL>
</DD>
</DL>
<HR>

<A NAME="search(nl.strohalm.cyclos.entities.accounts.loans.LoanPaymentQuery)"><!-- --></A><H3>
search</H3>
<PRE>
java.util.List&lt;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPayment.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPayment</A>&gt; <B>search</B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanPaymentQuery.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanPaymentQuery</A>&nbsp;vo)</PRE>
<DL>
<DD>Searches for loan payments
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="search(nl.strohalm.cyclos.entities.accounts.loans.LoanQuery)"><!-- --></A><H3>
search</H3>
<PRE>
java.util.List&lt;<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/Loan.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">Loan</A>&gt; <B>search</B>(<A HREF="../../../../../nl/strohalm/cyclos/entities/accounts/loans/LoanQuery.html" title="class in nl.strohalm.cyclos.entities.accounts.loans">LoanQuery</A>&nbsp;query)</PRE>
<DL>
<DD>Searches loans
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="validate(nl.strohalm.cyclos.services.transactions.GrantLoanDTO)"><!-- --></A><H3>
validate</H3>
<PRE>
void <B>validate</B>(<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/GrantLoanDTO.html" title="class in nl.strohalm.cyclos.services.transactions">GrantLoanDTO</A>&nbsp;params)</PRE>
<DL>
<DD>Validates a loan grant
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanPaymentDTO.html" title="class in nl.strohalm.cyclos.services.transactions"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../nl/strohalm/cyclos/services/transactions/LoanServiceImpl.html" title="class in nl.strohalm.cyclos.services.transactions"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?nl/strohalm/cyclos/services/transactions/LoanService.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LoanService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
