<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_23) on Thu Mar 22 11:38:18 BRT 2012 -->
<TITLE>
RateServiceLocal (Cyclos 3 Documentation)
</TITLE>

<META NAME="date" CONTENT="2012-03-22">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RateServiceLocal (Cyclos 3 Documentation)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceImplMock.html" title="class in nl.strohalm.cyclos.services.accounts.rates"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceSecurityMock.html" title="class in nl.strohalm.cyclos.services.accounts.rates"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RateServiceLocal.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
nl.strohalm.cyclos.services.accounts.rates</FONT>
<BR>
Interface RateServiceLocal</H2>
<DL>
<DT><B>All Superinterfaces:</B> <DD><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html" title="interface in nl.strohalm.cyclos.services.accounts.rates">RateService</A>, <A HREF="../../../../../../nl/strohalm/cyclos/services/Service.html" title="interface in nl.strohalm.cyclos.services">Service</A></DD>
</DL>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceImplMock.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RateServiceImplMock</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>RateServiceLocal</B><DT>extends <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html" title="interface in nl.strohalm.cyclos.services.accounts.rates">RateService</A></DL>
</PRE>

<P>
Local interface. It must be used only from other services.
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
</TABLE>
&nbsp;<A NAME="nested_classes_inherited_from_class_nl.strohalm.cyclos.services.accounts.rates.RateService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Nested classes/interfaces inherited from interface nl.strohalm.cyclos.services.accounts.rates.<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html" title="interface in nl.strohalm.cyclos.services.accounts.rates">RateService</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.RateType.html" title="enum in nl.strohalm.cyclos.services.accounts.rates">RateService.RateType</A></CODE></TD>
</TR>
</TABLE>
&nbsp;

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/utils/validation/Validator.html" title="class in nl.strohalm.cyclos.utils.validation">Validator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#applyARateFieldsValidation(nl.strohalm.cyclos.utils.validation.Validator, nl.strohalm.cyclos.services.accounts.rates.ARatedFeeDTO, nl.strohalm.cyclos.entities.accounts.fees.transaction.SimpleTransactionFee.ARateRelation)">applyARateFieldsValidation</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/utils/validation/Validator.html" title="class in nl.strohalm.cyclos.utils.validation">Validator</A>&nbsp;validator,
                           <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/ARatedFeeDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ARatedFeeDTO</A>&nbsp;dto,
                           <A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/fees/transaction/SimpleTransactionFee.ARateRelation.html" title="enum in nl.strohalm.cyclos.entities.accounts.fees.transaction">SimpleTransactionFee.ARateRelation</A>&nbsp;arateRelation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;does the validation for fields when configuring an A-rated fee.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#applyLoan(nl.strohalm.cyclos.services.transactions.TransferDTO, nl.strohalm.cyclos.services.transactions.GrantLoanDTO)">applyLoan</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/transactions/TransferDTO.html" title="class in nl.strohalm.cyclos.services.transactions">TransferDTO</A>&nbsp;transferDto,
          <A HREF="../../../../../../nl/strohalm/cyclos/services/transactions/GrantLoanDTO.html" title="class in nl.strohalm.cyclos.services.transactions">GrantLoanDTO</A>&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;applies the rates for a newly created loan</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesToSave.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesToSave</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#applyTransfer(nl.strohalm.cyclos.entities.accounts.transactions.Transfer)">applyTransfer</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</A>&nbsp;transfer)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;applies the needed rate changes which result from the transfer to the account.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#chargeback(nl.strohalm.cyclos.entities.accounts.transactions.Transfer, nl.strohalm.cyclos.entities.accounts.transactions.Transfer)">chargeback</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</A>&nbsp;original,
           <A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</A>&nbsp;chargeback)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;performs correcting of the rates in a chargeback transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#dateToRate(nl.strohalm.cyclos.services.accounts.rates.RatesDTO)">dateToRate</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesDTO</A>&nbsp;ratesDTO)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;converts the rate from raw Calendar rates to BigDecimal Rates</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.math.BigDecimal</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#getARatedFeePercentage(nl.strohalm.cyclos.entities.accounts.fees.transaction.TransactionFee, java.util.Calendar, java.util.Calendar, java.util.Calendar)">getARatedFeePercentage</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/fees/transaction/TransactionFee.html" title="class in nl.strohalm.cyclos.entities.accounts.fees.transaction">TransactionFee</A>&nbsp;fee,
                       java.util.Calendar&nbsp;rawARate,
                       java.util.Calendar&nbsp;rawDRate,
                       java.util.Calendar&nbsp;date)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gets the precentage of the fee with chargeType A_RATED or MIXED_A_D_RATES.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.math.BigDecimal</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#getDRateConversionResult(nl.strohalm.cyclos.services.accounts.rates.RatesDTO)">getDRateConversionResult</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesDTO</A>&nbsp;setOfUnits)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calculates the conversion result according to the D-rate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/utils/validation/Validator.html" title="class in nl.strohalm.cyclos.utils.validation">Validator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#getRateParametersValidator(nl.strohalm.cyclos.utils.validation.Validator, nl.strohalm.cyclos.services.accounts.rates.WhatRate)">getRateParametersValidator</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/utils/validation/Validator.html" title="class in nl.strohalm.cyclos.utils.validation">Validator</A>&nbsp;validator,
                           <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/WhatRate.html" title="class in nl.strohalm.cyclos.services.accounts.rates">WhatRate</A>&nbsp;whatRate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gets a validator for the currency's RateParameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#getRates(nl.strohalm.cyclos.services.accounts.rates.RatesDTO)">getRates</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesDTO</A>&nbsp;dto)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gets all the rates, plus the virtualRatedBalance at the given date.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#getRatesForTransferFrom(nl.strohalm.cyclos.entities.accounts.Account, java.math.BigDecimal, java.util.Calendar)">getRatesForTransferFrom</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/Account.html" title="class in nl.strohalm.cyclos.entities.accounts">Account</A>&nbsp;from,
                        java.math.BigDecimal&nbsp;amount,
                        java.util.Calendar&nbsp;date)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gets all the Rates for a transfer from the from-account.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#isAnyRateEnabled(nl.strohalm.cyclos.entities.accounts.Account, java.util.Calendar)">isAnyRateEnabled</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/Account.html" title="class in nl.strohalm.cyclos.entities.accounts">Account</A>&nbsp;account,
                 java.util.Calendar&nbsp;date)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;checks if any of the rates is enabled on the given date.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#persist(nl.strohalm.cyclos.services.accounts.rates.RatesToSave)">persist</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesToSave.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesToSave</A>&nbsp;rates)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;persists the rates in the argument.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html#rateToDate(nl.strohalm.cyclos.services.accounts.rates.RatesResultDTO)">rateToDate</A></B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A>&nbsp;params)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;converts the rate from BigDecimals to raw Calendar dates.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_nl.strohalm.cyclos.services.accounts.rates.RateService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from interface nl.strohalm.cyclos.services.accounts.rates.<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html" title="interface in nl.strohalm.cyclos.services.accounts.rates">RateService</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html#checkPendingRateInitializations(nl.strohalm.cyclos.entities.accounts.Currency)">checkPendingRateInitializations</A>, <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html#getEnableDate(nl.strohalm.cyclos.entities.accounts.Currency, nl.strohalm.cyclos.services.accounts.rates.RateService.RateType)">getEnableDate</A>, <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html#getRateConfigGraph(nl.strohalm.cyclos.services.accounts.rates.RatedFeeDTO)">getRateConfigGraph</A>, <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html#isAnyRateEnabled(nl.strohalm.cyclos.entities.accounts.Currency, java.util.Calendar)">isAnyRateEnabled</A>, <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html#reinitializeRate(nl.strohalm.cyclos.services.accounts.rates.ReinitializeRatesDTO)">reinitializeRate</A>, <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html#validate(nl.strohalm.cyclos.services.accounts.rates.RatedFeeDTO, nl.strohalm.cyclos.entities.accounts.fees.transaction.SimpleTransactionFee.ARateRelation)">validate</A>, <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateService.html#validate(nl.strohalm.cyclos.services.accounts.rates.ReinitializeRatesDTO)">validate</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="applyARateFieldsValidation(nl.strohalm.cyclos.utils.validation.Validator, nl.strohalm.cyclos.services.accounts.rates.ARatedFeeDTO, nl.strohalm.cyclos.entities.accounts.fees.transaction.SimpleTransactionFee.ARateRelation)"><!-- --></A><H3>
applyARateFieldsValidation</H3>
<PRE>
<A HREF="../../../../../../nl/strohalm/cyclos/utils/validation/Validator.html" title="class in nl.strohalm.cyclos.utils.validation">Validator</A> <B>applyARateFieldsValidation</B>(<A HREF="../../../../../../nl/strohalm/cyclos/utils/validation/Validator.html" title="class in nl.strohalm.cyclos.utils.validation">Validator</A>&nbsp;validator,
                                     <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/ARatedFeeDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">ARatedFeeDTO</A>&nbsp;dto,
                                     <A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/fees/transaction/SimpleTransactionFee.ARateRelation.html" title="enum in nl.strohalm.cyclos.entities.accounts.fees.transaction">SimpleTransactionFee.ARateRelation</A>&nbsp;arateRelation)</PRE>
<DL>
<DD>does the validation for fields when configuring an A-rated fee.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="applyLoan(nl.strohalm.cyclos.services.transactions.TransferDTO, nl.strohalm.cyclos.services.transactions.GrantLoanDTO)"><!-- --></A><H3>
applyLoan</H3>
<PRE>
<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A> <B>applyLoan</B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/transactions/TransferDTO.html" title="class in nl.strohalm.cyclos.services.transactions">TransferDTO</A>&nbsp;transferDto,
                         <A HREF="../../../../../../nl/strohalm/cyclos/services/transactions/GrantLoanDTO.html" title="class in nl.strohalm.cyclos.services.transactions">GrantLoanDTO</A>&nbsp;params)</PRE>
<DL>
<DD>applies the rates for a newly created loan
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="applyTransfer(nl.strohalm.cyclos.entities.accounts.transactions.Transfer)"><!-- --></A><H3>
applyTransfer</H3>
<PRE>
<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesToSave.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesToSave</A> <B>applyTransfer</B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</A>&nbsp;transfer)</PRE>
<DL>
<DD>applies the needed rate changes which result from the transfer to the account. These changes mean:
 <ul>
 <li>rate of the transfer is calculated
 <li>if needed, the from-account's rateBalanceCorrection is saved to the RateSaver object, ready for future persisting.
 <li>this transfer rate is merged with the to-account's rate.
 <li>the result is saved to the resulting RateSaver object, ready for future persisting.
 </ul>
 NO changes are made to the transfer itself, nor to the accounts. <br>
 Note that this method requires that all accounts (both from and to) are locked. The calling method should take care of that.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>transfer</CODE> - 
<DT><B>Returns:</B><DD>RateSaver object with the transfer's rate, and with a que of AccountRates entities to be persisted. These can be persisted as soon as
 the tranfer itself is persisted. If the specific rate is null, it's corresponding field on the result will be null. If no rates enabled, it
 will have all fields set to null.</DL>
</DD>
</DL>
<HR>

<A NAME="chargeback(nl.strohalm.cyclos.entities.accounts.transactions.Transfer, nl.strohalm.cyclos.entities.accounts.transactions.Transfer)"><!-- --></A><H3>
chargeback</H3>
<PRE>
void <B>chargeback</B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</A>&nbsp;original,
                <A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/transactions/Transfer.html" title="class in nl.strohalm.cyclos.entities.accounts.transactions">Transfer</A>&nbsp;chargeback)</PRE>
<DL>
<DD>performs correcting of the rates in a chargeback transaction. This is to be called after all other actions are done, that is: after the
 original transfer is marked as chargedback.
 <p>
 Chargebacks are treated as transactions which are returned/undone. This leads to the following strategy:
 <ul>
 <li>the chargeback transfer is a transfer in the same direction as the original transfer, but with a negated transfer amount. Rates are not
 applied as usual in such a case, but treated in an exceptional way (see next point). Just applying rates with a negated transfer amount would
 lead to deviations in case the accounts have been used in the meantime.
 <li>both involved accounts get their rates recalculated from the date of the original chargedback transfer.
 <li>no deeper levels correction; only correction on the primary involved accounts. This means that any other accounts than the original
 transfer's from and to account will not be updated for any rates that might have been changed due to the chargeback. So there are no side
 effects for other accounts, even if such an other account was involved in a transfer from or to the original from and to accounts, that took
 place between an original transfer and it's chargeback.
 <li>Other transfers are NOT affected by the chargeback. A Transfer is considered an agreement under the then valid circumstances. This means
 that a transfer's rates are fixed from the moment the tranfer is processed, and that these rates are NOT changed as a result of earlier
 chargebacks, even if the account from which the transfer was paid had it's rates changed as a result of a chargeback.
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>original</CODE> - The transfer to be chargedback<DD><CODE>chargeback</CODE> - the transfer that was chargedback</DL>
</DD>
</DL>
<HR>

<A NAME="dateToRate(nl.strohalm.cyclos.services.accounts.rates.RatesDTO)"><!-- --></A><H3>
dateToRate</H3>
<PRE>
<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A> <B>dateToRate</B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesDTO</A>&nbsp;ratesDTO)</PRE>
<DL>
<DD>converts the rate from raw Calendar rates to BigDecimal Rates
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ratesDTO</CODE> - a RatesDTO which needs to have either emissionDate, expirationDate or both set. It must also have a date set, and in case of
 D-rate, a Currency
<DT><B>Returns:</B><DD>sets the calculated BigDecimal rates to a new RatesResultDTO object. If a particular rate in the input is null, the corresponding field
 in the output will be null too.</DL>
</DD>
</DL>
<HR>

<A NAME="getARatedFeePercentage(nl.strohalm.cyclos.entities.accounts.fees.transaction.TransactionFee, java.util.Calendar, java.util.Calendar, java.util.Calendar)"><!-- --></A><H3>
getARatedFeePercentage</H3>
<PRE>
java.math.BigDecimal <B>getARatedFeePercentage</B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/fees/transaction/TransactionFee.html" title="class in nl.strohalm.cyclos.entities.accounts.fees.transaction">TransactionFee</A>&nbsp;fee,
                                            java.util.Calendar&nbsp;rawARate,
                                            java.util.Calendar&nbsp;rawDRate,
                                            java.util.Calendar&nbsp;date)</PRE>
<DL>
<DD>gets the precentage of the fee with chargeType A_RATED or MIXED_A_D_RATES.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>fee</CODE> - <DD><CODE>rawARate</CODE> - a Calendar being the raw A-rate to be used. May NOT be null.<DD><CODE>rawDRate</CODE> - a Calendar being the raw D-rate to be used. May be null in case of A_RATED; in that case the param is not used.<DD><CODE>date</CODE> - the processdate
<DT><B>Returns:</B><DD>the percentage of the fee charge.</DL>
</DD>
</DL>
<HR>

<A NAME="getDRateConversionResult(nl.strohalm.cyclos.services.accounts.rates.RatesDTO)"><!-- --></A><H3>
getDRateConversionResult</H3>
<PRE>
java.math.BigDecimal <B>getDRateConversionResult</B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesDTO</A>&nbsp;setOfUnits)</PRE>
<DL>
<DD>calculates the conversion result according to the D-rate.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>setOfUnits</CODE> - a RatesDTO. Needs to have set:
 <ul>
 <li>the currency
 <li>the amount to be converted
 <li>the expiration date.
 <li>the date
 </ul>
<DT><B>Returns:</B><DD>null if D-rate is not enabled. Otherwise, the sum the member gets from converting the original amount.</DL>
</DD>
</DL>
<HR>

<A NAME="getRateParametersValidator(nl.strohalm.cyclos.utils.validation.Validator, nl.strohalm.cyclos.services.accounts.rates.WhatRate)"><!-- --></A><H3>
getRateParametersValidator</H3>
<PRE>
<A HREF="../../../../../../nl/strohalm/cyclos/utils/validation/Validator.html" title="class in nl.strohalm.cyclos.utils.validation">Validator</A> <B>getRateParametersValidator</B>(<A HREF="../../../../../../nl/strohalm/cyclos/utils/validation/Validator.html" title="class in nl.strohalm.cyclos.utils.validation">Validator</A>&nbsp;validator,
                                     <A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/WhatRate.html" title="class in nl.strohalm.cyclos.services.accounts.rates">WhatRate</A>&nbsp;whatRate)</PRE>
<DL>
<DD>gets a validator for the currency's RateParameters.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRates(nl.strohalm.cyclos.services.accounts.rates.RatesDTO)"><!-- --></A><H3>
getRates</H3>
<PRE>
<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A> <B>getRates</B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesDTO</A>&nbsp;dto)</PRE>
<DL>
<DD>gets all the rates, plus the virtualRatedBalance at the given date. If the date in the param is null, it gets the present rates.
 <ul>
 <li>if no rates are enabled on the requested date, it returns a RatesResultDTO with all rate fields set to null.
 <li>If some rate (A, D, I) is not enabled on the requested date, it's corresponding field on the returned result will be null.
 <li>rates are updated with transfers which happened between the last available AccountRatesEntity and the requested date.
 <li>If a null rate is encountered while the rate is enabled, that rate is initialized. This also counts for rateBalanceCorrection/VRB. An
 exception is the I-rate, as this cannot be initialized. In this case an alert is fired
 <li>If the account is an unlimited type, the virtualRatedBalance is set to zero. See next item for consequences.
 <li>If the virtualRatedBalance is zero, rates are set to their creation value.
 </ul>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>a</CODE> - RatesDTO with the following set:
 <ul>
 <li>date - may be null, in which case the present rates are retrieved, and the history is not looped
 <li>account
 <li>amount (balance)
 </ul>
<DT><B>Returns:</B><DD>a RatesResultDTO containing enabled rates and VRB. Rates are included as raw rates and as BigDecimals.</DL>
</DD>
</DL>
<HR>

<A NAME="getRatesForTransferFrom(nl.strohalm.cyclos.entities.accounts.Account, java.math.BigDecimal, java.util.Calendar)"><!-- --></A><H3>
getRatesForTransferFrom</H3>
<PRE>
<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A> <B>getRatesForTransferFrom</B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/Account.html" title="class in nl.strohalm.cyclos.entities.accounts">Account</A>&nbsp;from,
                                       java.math.BigDecimal&nbsp;amount,
                                       java.util.Calendar&nbsp;date)</PRE>
<DL>
<DD>gets all the Rates for a transfer from the from-account. Does this by checking if the account has sufficient balance. If not, it creates extra
 units by going negative. Created units get a rate as specifically defined for newly created units. Note that the method does NOT check if the
 lower account limit is violated; this is a task to be done by the calling method. It either doesn't set a new ratebalancecorrection on the from
 account if it finds out new units have to be created.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>from</CODE> - the from Account<DD><CODE>amount</CODE> - the amount to be taken from the from account<DD><CODE>date</CODE> - the date of the (supposed) transfer; if null, this is now.
<DT><B>Returns:</B><DD>a RatesResultDTO containing the raw rates as well as their BigDecimal numerical equivalents to be used for this transfer. If new units
 had to be created because of this account going negative, then the DTO also contains the new value for rateBalanceCorrection. Calling methods
 should check on this, and save this if appropriate. Returns null if the rate is not enabled on the currency.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - in case of payments in past, that is, if transfers exist for this account after or ON the requested date. NOTE
 that the method also raises the exception in case of an already existing, processed transfer with the exact same date/time.</DL>
</DD>
</DL>
<HR>

<A NAME="isAnyRateEnabled(nl.strohalm.cyclos.entities.accounts.Account, java.util.Calendar)"><!-- --></A><H3>
isAnyRateEnabled</H3>
<PRE>
boolean <B>isAnyRateEnabled</B>(<A HREF="../../../../../../nl/strohalm/cyclos/entities/accounts/Account.html" title="class in nl.strohalm.cyclos.entities.accounts">Account</A>&nbsp;account,
                         java.util.Calendar&nbsp;date)</PRE>
<DL>
<DD>checks if any of the rates is enabled on the given date.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>account</CODE> - <DD><CODE>date</CODE> - 
<DT><B>Returns:</B><DD>true if any rate enabled</DL>
</DD>
</DL>
<HR>

<A NAME="persist(nl.strohalm.cyclos.services.accounts.rates.RatesToSave)"><!-- --></A><H3>
persist</H3>
<PRE>
void <B>persist</B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesToSave.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesToSave</A>&nbsp;rates)</PRE>
<DL>
<DD>persists the rates in the argument.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>rates</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="rateToDate(nl.strohalm.cyclos.services.accounts.rates.RatesResultDTO)"><!-- --></A><H3>
rateToDate</H3>
<PRE>
<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A> <B>rateToDate</B>(<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RatesResultDTO.html" title="class in nl.strohalm.cyclos.services.accounts.rates">RatesResultDTO</A>&nbsp;params)</PRE>
<DL>
<DD>converts the rate from BigDecimals to raw Calendar dates. As I-rate doesn't have a raw calendar date, i-rate is ignored.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>ratesResultDTO</CODE> - a RatesResultDTO which needs to have either emissionDate, expirationDate or both set. It also needs to have a date set.
<DT><B>Returns:</B><DD>sets the calculated Calendar raw rates to a new RatesResultDTO object. If a particular rate in the input is null, the corresponding
 field in the output will be null too.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceImplMock.html" title="class in nl.strohalm.cyclos.services.accounts.rates"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../nl/strohalm/cyclos/services/accounts/rates/RateServiceSecurityMock.html" title="class in nl.strohalm.cyclos.services.accounts.rates"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?nl/strohalm/cyclos/services/accounts/rates/RateServiceLocal.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RateServiceLocal.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
